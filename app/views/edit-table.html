<h3 class="text-center">
  Add or Update Table <input ng-if="add" type="text" ng-model="table.name"></input> <p ng-if="!add">{{table.name}}</p>
  <div class="btn btn-danger btn-sm pull-left" type="button" class="close" aria-label="Close" ng-click="goBack()"><span aria-hidden="true">&times;</span></div>
  <div ng-if="!add" class="btn btn-warning btn-sm pull-right" type="button" ng-click="deleteTable()">Delete Table {{table.name}}</div>
</h3>
<br>
<hr>

<div class="row">
  <div class="col-md-6">
    <h4><b>add properties : </b><h4>
    <div ng-repeat="prop in table.add track by $index">
      <input type="text" ng-model="table.add[$index]" placeholder="field"></input>
      <button class="btn btn-danger btn-sm" ng-click="table.add.splice($index,1);">X</button>
    </div>
    <button class="btn btn-success btn-sm" ng-click="table.add.push('');">add</button>
    <hr>
    <h4><b>add parents : </b></h4>
    <div ng-repeat="parent in table.addParents track by $index">
      <select ng-model="table.addParents[$index]" ng-options="parentTable for parentTable in parentTables"></select>
      <button class="btn btn-danger btn-sm" ng-click="table.addParents.splice($index,1);">X</button>
    </div>
    <button class="btn btn-success btn-sm" ng-click="table.addParents.push('');">add</button>
    <hr>

    <div ng-if="!add">
      <h4><b>drop properties : </b></h4>
      <div ng-repeat="dropprop in props track by $index">
        {{dropprop}} <input type="checkbox" ng-model="colSelected" ng-change="dropProp(dropprop)"></input>
      </div>
      <hr>
      <h4><b>drop parents : </b></h4>
      <div ng-repeat="dropparent in parents track by $index">
        {{dropparent}} <input type="checkbox" ng-model="colSelected" ng-change="dropParent(dropparent)"></input>
      </div>
      <hr>
      <h4><b>rename properties : </b></h4>
      <div ng-repeat="renameProp in props track by $index">
        <div ng-if="(table.drop.indexOf(renameProp) === -1)">
          rename {{renameProp}} <input type="text" ng-model="newVal"></input>
          <button class="btn btn-info btn-sm" ng-click="rename(renameProp,newVal)">Update</button>
        </div>
      </div>
    </div>`
  </div>

  <div class="col-md-6">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h4 class="text-center"><b>What table {{table.name}} will look like</b></h4>
      </div>

      <div class="panel-body">
        Name : {{table.name}}
        <br>
        Fields :
        <ul ng-repeat="field in getTable() track by $index">
          <li>{{field}}</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<br>
<button class="btn btn-default" ng-click="submitTable()">Save</button>
