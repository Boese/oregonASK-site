<h3 class="text-center"><b>{{model}}s Data</b></h3>

<div ng-show="getPercentage() < 100" class="row text-center">
  <div class="col-md-4 col-md-offset-4">
    <h5>loading... {{getPercentage()}}%</h5>
    <div class="progress">
      <div class="progress-bar progress-bar-striped progress-bar-success active"
      aria-valuemin="0" aria-valuemax="100" role="progressbar" style="width: {{getPercentage()}}%"></div>
    </div>
  </div>
</div>

<hr>

<div ng-show="getPercentage() === 100" class="row">
  <form class="form-horizontal col-md-offset-2" role="form">
    <h4 style="color:green">Export</h4>
    <div class="form-group">
      <label class="col-sm-2 control-label">Which columns should we export?</label>
      <div class="col-sm-6">
        <select class="form-control" ng-model="export_column_type"</select>
          <option value='all'>All</option>
          <option value='visible'>Visible</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Which rows should we export?</label>
      <div class="col-sm-6">
        <select class="form-control" ng-model="export_row_type"</select>
          <option value='all'>All</option>
          <option value='visible'>Visible</option>
          <option value='selected'>Selected</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">What format would you like?</label>
      <div class="col-sm-6">
        <select class="form-control" ng-model="export_format"</select>
          <option value='csv'>CSV (Excel)</option>
          <option value='pdf'>PDF</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-6">
        <button ng-click="export()">Export</button>
      </div>
    </div>
    <div class="custom-csv-link-location">
      <label style="color:blue">Your CSV download link:</label>
      <span class="ui-grid-exporter-csv-link">&nbsp</span>
    </div>
  </form>

  <br>
  <hr>

  <div class="row">
    <div class="col-md-4">
    </div>
    <div class="col-md-4 text-center">
      <strong>Number of records: </strong> {{ gridOptions.data.length | number }}
    </div>
    <div class="col-md-4">
      <button class="btn btn-primary center-block" ng-click="loadTable()">Reset Table?</button>
    </div>
  </div>

  <br>
  <div style="height:500px" ui-grid="gridOptions" class="grid" external-scopes="$scope"
  ui-grid-edit ui-grid-resize-columns ui-grid-selection ui-grid-exporter ui-grid-importer ui-grid-move-columns></div>
</div>
</div>
